@model MangaHub.Core.ViewModels.MangaViewModel
@{
    ViewBag.Title = "Home Page";
}


<div class="container manga-list">
    <div class="row pb-4 backgroundWhite">
        @foreach(var manga in Model.Mangas)
        { 
            <div class="container">
                <div class="row">
                    <div class="col-12 col-lg-4">
                        <h1 class="text-warning">@manga.Title</h1>
                        @{
                            var base64String = Convert.ToBase64String(manga.Picture);
                            var imageSrc = string.Format("data:imaga/jpg;base64,{0}", base64String);
                        }
                        <img src=@imageSrc class="card-img-top p-2 rounded" style="width:100%" />
                        <p>@manga.Description</p>
                    </div>
                    <div class="col-12 col-lg-8">
                        <div class="row">
                            <div class="col-12">
                                <h2 class="text-warning">by: @manga.Artist.Name</h2>
                                <h3 style="color: #bbb9b9">Uploaded: @manga.DateCreated.ToString("d MMM yyyy HH:mm")</h3>
                            </div>
                            <div class="col-12">
                                @if (manga.Chapters.Any())
                                {

                                    <table class="table table-striped manga-table">
                                        <thead>
                                            <tr>
                                                <th>Chapter No.</th>
                                                <th>Pages</th>
                                                <th>Information</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @foreach (var chap in manga.Chapters)
                                            {
                                                <tr>
                                                    <td>@chap.ChapterNo</td>
                                                    <td>@chap.NumberOfPages</td>
                                                    <td>@chap.Information</td>
                                                </tr>
                                            }
                                        </tbody>
                                    </table>
                                    <div class="pagination-container">
                                        <nav>
                                            <ul class="pagination"></ul>
                                        </nav>
                                    </div>
                                    <div class="row_count"></div>
                                }
                                else
                                {
                                    <p>No Chapter exists...</p>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        }

    </div>
</div>

@section scripts
{
    <script>
        $(document).ready(function () {
            applyPagination();
        });
    </script>

}